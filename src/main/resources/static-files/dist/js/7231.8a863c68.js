"use strict";(self["webpackChunkvelzon"]=self["webpackChunkvelzon"]||[]).push([[7231],{85608:function(e,t,a){a.r(t),a.d(t,{default:function(){return ne}});var s=a(20641),l=a(90033),i=a(53751);const n={class:"d-flex align-items-center"},o={class:"flex-grow-1"},c={class:"text-uppercase fw-semibold text-muted mb-0"},r={class:"flex-shrink-0"},d={class:"d-flex align-items-end justify-content-between mt-4"},u={class:"fs-22 fw-semibold ff-secondary mb-4"},m={class:"text-muted"},k={class:"avatar-sm flex-shrink-0"},p={class:"avatar-title bg-light rounded fs-3"},g={class:"d-flex align-items-center"},h={class:"flex-shrink-0"},f={class:"d-flex gap-2 flex-wrap"},b={class:"search-box"},v={class:"input-light"},L={class:"table-responsive table-card"},y={class:"table align-middle table-nowrap",id:"invoiceTable"},x={class:"text-muted"},_={class:"list form-check-all"},C={class:"id"},w={class:"customer_name"},F={key:0,class:"d-flex align-items-center"},I=["src"],A={key:1,class:"d-flex align-items-center"},W={class:"flex-shrink-0 avatar-xs me-2"},E={class:"avatar-title bg-success-subtle text-success rounded-circle fs-13"},M={class:"email"},B={class:"country"},S={class:"date"},P={class:"text-muted"},D={class:"invoice_amount"},Q={class:"status"},X={key:0,class:"noresult"},V={class:"text-center"},q={key:0,class:"d-flex justify-content-end mt-3"},O={class:"pagination-wrap hstack gap-2"},U={class:"pagination listjs-pagination mb-0"},N=["onClick"],$={class:"mt-2 text-center"},T={class:"d-flex gap-2 justify-content-center mt-4 mb-2"};function j(e,t,a,j,H,R){const z=(0,s.g2)("PageHeader"),J=(0,s.g2)("BBadge"),Y=(0,s.g2)("FileTextIcon"),K=(0,s.g2)("CheckSquareIcon"),G=(0,s.g2)("ClockIcon"),Z=(0,s.g2)("XOctagonIcon"),ee=(0,s.g2)("BCardBody"),te=(0,s.g2)("BCard"),ae=(0,s.g2)("BCol"),se=(0,s.g2)("BRow"),le=(0,s.g2)("BButton"),ie=(0,s.g2)("router-link"),ne=(0,s.g2)("BCardHeader"),oe=(0,s.g2)("flat-pickr"),ce=(0,s.g2)("Multiselect"),re=(0,s.g2)("b-form"),de=(0,s.g2)("BDropdownItem"),ue=(0,s.g2)("BDropdown"),me=(0,s.g2)("lottie"),ke=(0,s.g2)("BLink"),pe=(0,s.g2)("BModal"),ge=(0,s.g2)("Layout");return(0,s.uX)(),(0,s.Wv)(ge,null,{default:(0,s.k6)(()=>[(0,s.bF)(z,{title:"Invoice List",pageTitle:"Invoices"}),(0,s.bF)(se,null,{default:(0,s.k6)(()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(H.invoiceWidgets,(e,a)=>((0,s.uX)(),(0,s.Wv)(ae,{xl:"3",md:"6",key:a},{default:(0,s.k6)(()=>[(0,s.bF)(te,{"no-body":"",class:"card-animate"},{default:(0,s.k6)(()=>[(0,s.bF)(ee,null,{default:(0,s.k6)(()=>[(0,s.Lk)("div",n,[(0,s.Lk)("div",o,[(0,s.Lk)("p",c,(0,l.v_)(e.label),1)]),(0,s.Lk)("div",r,[(0,s.Lk)("h5",{class:(0,l.C4)(`text-${e.percentageClass} fs-14 mb-0`)},[(0,s.Lk)("i",{class:(0,l.C4)(`${e.icon} fs-13 align-middle`)},null,2),(0,s.eW)(" "+(0,l.v_)(e.percentage),1)],2)])]),(0,s.Lk)("div",d,[(0,s.Lk)("div",null,[(0,s.Lk)("h4",u,(0,l.v_)(e.prefix)+(0,l.v_)(e.counter)+(0,l.v_)(e.suffix),1),(0,s.bF)(J,{class:"bg-warning me-1"},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(e.badge),1)]),_:2},1024),t[15]||(t[15]=(0,s.eW)()),(0,s.Lk)("span",m,(0,l.v_)(e.caption),1)]),(0,s.Lk)("div",k,[(0,s.Lk)("span",p,["file-text"==e.feaIcon?((0,s.uX)(),(0,s.Wv)(Y,{key:0,class:"text-success icon-md"})):(0,s.Q3)("",!0),"check-square"==e.feaIcon?((0,s.uX)(),(0,s.Wv)(K,{key:1,class:"text-success icon-md"})):(0,s.Q3)("",!0),"clock"==e.feaIcon?((0,s.uX)(),(0,s.Wv)(G,{key:2,class:"text-success icon-md"})):(0,s.Q3)("",!0),"x-octagon"==e.feaIcon?((0,s.uX)(),(0,s.Wv)(Z,{key:3,class:"text-success icon-md"})):(0,s.Q3)("",!0)])])])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),(0,s.bF)(se,null,{default:(0,s.k6)(()=>[(0,s.bF)(ae,{lg:"12"},{default:(0,s.k6)(()=>[(0,s.bF)(te,{"no-body":"",id:"invoiceList"},{default:(0,s.k6)(()=>[(0,s.bF)(ne,{class:"border-0"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",g,[t[18]||(t[18]=(0,s.Lk)("h5",{class:"card-title mb-0 flex-grow-1 fs-17"},"Invoices",-1)),(0,s.Lk)("div",h,[(0,s.Lk)("div",f,[(0,s.bF)(le,{variant:"primary",class:"me-1",id:"remove-actions",onClick:R.deleteMultiple},{default:(0,s.k6)(()=>t[16]||(t[16]=[(0,s.Lk)("i",{class:"ri-delete-bin-2-line"},null,-1)])),_:1,__:[16]},8,["onClick"]),(0,s.bF)(ie,{to:"/invoices/create",class:"btn btn-danger"},{default:(0,s.k6)(()=>t[17]||(t[17]=[(0,s.Lk)("i",{class:"ri-add-line align-bottom me-1"},null,-1),(0,s.eW)(" Create Invoice")])),_:1,__:[17]})])])])]),_:1}),(0,s.bF)(ee,{class:"bg-light-subtle border border-dashed border-start-0 border-end-0"},{default:(0,s.k6)(()=>[(0,s.bF)(re,null,{default:(0,s.k6)(()=>[(0,s.bF)(se,{class:"g-3"},{default:(0,s.k6)(()=>[(0,s.bF)(ae,{xxl:"5",sm:"12"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",b,[(0,s.bo)((0,s.Lk)("input",{type:"text",class:"form-control search bg-light border-light","onUpdate:modelValue":t[0]||(t[0]=e=>H.searchQuery=e),placeholder:"Search for customer, email, country, status or something..."},null,512),[[i.Jo,H.searchQuery]]),t[19]||(t[19]=(0,s.Lk)("i",{class:"ri-search-line search-icon"},null,-1))])]),_:1}),(0,s.bF)(ae,{xxl:"3",sm:"4"},{default:(0,s.k6)(()=>[(0,s.bF)(oe,{modelValue:H.date,"onUpdate:modelValue":t[1]||(t[1]=e=>H.date=e),config:H.config,class:"form-control bg-light border-light",placeholder:"Select date"},null,8,["modelValue","config"])]),_:1}),(0,s.bF)(ae,{xxl:"3",sm:"4"},{default:(0,s.k6)(()=>[(0,s.Lk)("div",v,[(0,s.bF)(ce,{class:"form-control",modelValue:H.status1,"onUpdate:modelValue":t[2]||(t[2]=e=>H.status1=e),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"all",label:"all"},{value:"Unpaid",label:"Unpaid"},{value:"Paid",label:"Paid"},{value:"Cancel",label:"Cancel"},{value:"Refund",label:"Refund"}]},null,8,["modelValue"])])]),_:1}),(0,s.bF)(ae,{xxl:"1",sm:"4"},{default:(0,s.k6)(()=>[(0,s.bF)(le,{type:"button",variant:"primary",class:"w-100",onClick:R.SearchData},{default:(0,s.k6)(()=>t[20]||(t[20]=[(0,s.Lk)("i",{class:"ri-equalizer-fill me-1 align-bottom"},null,-1),(0,s.eW)(" Filters ")])),_:1,__:[20]},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),(0,s.bF)(ee,null,{default:(0,s.k6)(()=>[(0,s.Lk)("div",null,[(0,s.Lk)("div",L,[(0,s.Lk)("table",y,[(0,s.Lk)("thead",x,[(0,s.Lk)("tr",null,[t[21]||(t[21]=(0,s.Lk)("th",{scope:"col",style:{width:"50px"}},[(0,s.Lk)("div",{class:"form-check"},[(0,s.Lk)("input",{class:"form-check-input",type:"checkbox",id:"checkAll",value:"option"})])],-1)),(0,s.Lk)("th",{class:"sort text-uppercase","data-sort":"invoice_id",onClick:t[3]||(t[3]=e=>R.onSort("invoiceId"))},"ID"),(0,s.Lk)("th",{class:"sort text-uppercase","data-sort":"customer_name",onClick:t[4]||(t[4]=e=>R.onSort("name"))},"Customer"),(0,s.Lk)("th",{class:"sort text-uppercase","data-sort":"email",onClick:t[5]||(t[5]=e=>R.onSort("email"))},"Email"),(0,s.Lk)("th",{class:"sort text-uppercase","data-sort":"country",onClick:t[6]||(t[6]=e=>R.onSort("country"))},"Country"),(0,s.Lk)("th",{class:"sort text-uppercase","data-sort":"date",onClick:t[7]||(t[7]=e=>R.onSort("date"))},"Date"),(0,s.Lk)("th",{class:"sort text-uppercase","data-sort":"invoice_amount",onClick:t[8]||(t[8]=e=>R.onSort("amount"))},"Amount"),(0,s.Lk)("th",{class:"sort text-uppercase","data-sort":"status",onClick:t[9]||(t[9]=e=>R.onSort("status"))},"Payment Status"),t[22]||(t[22]=(0,s.Lk)("th",{class:"sort text-uppercase","data-sort":"action"},"Action",-1))])]),(0,s.Lk)("tbody",_,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(R.resultQuery,(e,a)=>((0,s.uX)(),(0,s.CE)("tr",{key:a},[t[29]||(t[29]=(0,s.Lk)("th",{scope:"row"},[(0,s.Lk)("div",{class:"form-check"},[(0,s.Lk)("input",{class:"form-check-input",type:"checkbox",name:"chk_child",value:"option1"})])],-1)),(0,s.Lk)("td",C,[(0,s.bF)(ie,{to:"/invoices/detail",class:"fw-medium link-primary"},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(e.invoiceId),1)]),_:2},1024)]),(0,s.Lk)("td",w,[e.img?((0,s.uX)(),(0,s.CE)("div",F,[(0,s.Lk)("img",{src:e.image_src,alt:"",class:"avatar-xs rounded-circle me-2"},null,8,I),(0,s.eW)(" "+(0,l.v_)(e.name),1)])):(0,s.Q3)("",!0),e.img?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",A,[(0,s.Lk)("div",W,[(0,s.Lk)("div",E,(0,l.v_)(e.name.charAt(0)),1)]),(0,s.eW)(" "+(0,l.v_)(e.name),1)]))]),(0,s.Lk)("td",M,(0,l.v_)(e.email),1),(0,s.Lk)("td",B,(0,l.v_)(e.country),1),(0,s.Lk)("td",S,[(0,s.eW)((0,l.v_)(e.date)+" ",1),(0,s.Lk)("small",P,(0,l.v_)(e.time),1)]),(0,s.Lk)("td",D,"$"+(0,l.v_)(e.amount),1),(0,s.Lk)("td",Q,[(0,s.Lk)("span",{class:(0,l.C4)(["badge text-uppercase",{"bg-success-subtle text-success":"Paid"==e.status,"bg-warning-subtle text-warning":"Unpaid"==e.status,"bg-danger-subtle text-danger":"Cancel"==e.status,"bg-primary-subtle text-primary":"Refund"==e.status,"bg-info-subtle text-info":"Active"==e.status}])},(0,l.v_)(e.status),3)]),(0,s.Lk)("td",null,[(0,s.bF)(ue,{variant:"link",class:"card-header-dropdown","toggle-class":"btn btn-soft-secondary btn-sm arrow-none","menu-class":"dropdown-menu-end",offset:{alignmentAxis:-130,crossAxis:0,mainAxis:10}},{"button-content":(0,s.k6)(()=>t[23]||(t[23]=[(0,s.Lk)("i",{class:"ri-more-fill align-middle"},null,-1)])),default:(0,s.k6)(()=>[(0,s.bF)(de,{to:"/invoices/detail"},{default:(0,s.k6)(()=>t[24]||(t[24]=[(0,s.Lk)("i",{class:"ri-eye-fill align-bottom me-2 text-muted"},null,-1),(0,s.eW)("View")])),_:1,__:[24]}),(0,s.bF)(de,{to:"/invoices/create"},{default:(0,s.k6)(()=>t[25]||(t[25]=[(0,s.Lk)("i",{class:"ri-pencil-fill align-bottom me-2 text-muted"},null,-1),(0,s.eW)("Edit")])),_:1,__:[25]}),(0,s.bF)(de,null,{default:(0,s.k6)(()=>t[26]||(t[26]=[(0,s.Lk)("i",{class:"ri-download-2-line align-bottom me-2 text-muted"},null,-1),(0,s.eW)("Download ")])),_:1,__:[26]}),t[28]||(t[28]=(0,s.Lk)("li",{class:"dropdown-divider"},null,-1)),(0,s.bF)(de,{onClick:t=>R.deleteModalToggle(e)},{default:(0,s.k6)(()=>t[27]||(t[27]=[(0,s.Lk)("i",{class:"ri-delete-bin-fill align-bottom me-2 text-muted"},null,-1),(0,s.eW)("Delete ")])),_:2,__:[27]},1032,["onClick"])]),_:2,__:[28]},1024)])]))),128))])]),R.resultQuery.length<1?((0,s.uX)(),(0,s.CE)("div",X,[(0,s.Lk)("div",V,[(0,s.bF)(me,{class:"avatar-xl",colors:"primary:#121331,secondary:#08a88a",options:H.defaultOptions,height:75,width:75},null,8,["options"]),t[30]||(t[30]=(0,s.Lk)("h5",{class:"mt-2"},"Sorry! No Result Found",-1)),t[31]||(t[31]=(0,s.Lk)("p",{class:"text-muted mb-0"},"We've searched more than 150+ Orders We did not find any orders for you search.",-1))])])):(0,s.Q3)("",!0)]),R.resultQuery.length>=1?((0,s.uX)(),(0,s.CE)("div",q,[(0,s.Lk)("div",O,[(0,s.bF)(ke,{class:"page-item pagination-prev",href:"#",disabled:H.page<=1,onClick:t[10]||(t[10]=e=>H.page--)},{default:(0,s.k6)(()=>t[32]||(t[32]=[(0,s.eW)(" Previous ")])),_:1,__:[32]},8,["disabled"]),(0,s.Lk)("ul",U,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(H.pages,(e,t)=>((0,s.uX)(),(0,s.CE)("li",{class:(0,l.C4)({active:e==H.page,disabled:"..."==e}),key:t,onClick:t=>H.page=e},[(0,s.bF)(ke,{class:"page",href:"#"},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(e),1)]),_:2},1024)],10,N))),128))]),(0,s.bF)(ke,{class:"page-item pagination-next",href:"#",disabled:H.page>=H.pages.length,onClick:t[11]||(t[11]=e=>H.page++)},{default:(0,s.k6)(()=>t[33]||(t[33]=[(0,s.eW)(" Next ")])),_:1,__:[33]},8,["disabled"])])])):(0,s.Q3)("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),(0,s.bF)(pe,{modelValue:H.deleteModal,"onUpdate:modelValue":t[14]||(t[14]=e=>H.deleteModal=e),"modal-class":"zoomIn","hide-footer":"","no-close-on-backdrop":"",centered:""},{default:(0,s.k6)(()=>[(0,s.Lk)("div",$,[(0,s.bF)(me,{class:"avatar-xl",colors:"primary:#f7b84b,secondary:#f06548",options:H.defaultOptions1,height:75,width:75},null,8,["options"]),t[34]||(t[34]=(0,s.Lk)("div",{class:"mt-4 pt-2 fs-15 mx-4 mx-sm-5"},[(0,s.Lk)("h4",null,"Are you sure ?"),(0,s.Lk)("p",{class:"text-muted mx-4 mb-0"},"Are you sure you want to remove this record ?")],-1))]),(0,s.Lk)("div",T,[(0,s.Lk)("button",{type:"button",class:"btn w-sm btn-light",onClick:t[12]||(t[12]=e=>H.deleteModal=!1)},"Close"),(0,s.Lk)("button",{type:"button",class:"btn w-sm btn-danger",id:"delete-record",onClick:t[13]||(t[13]=(...e)=>R.deleteData&&R.deleteData(...e))},"Yes, Delete It!")])]),_:1},8,["modelValue"])]),_:1})}a(44114),a(18111),a(22489),a(7588);var H=a(81060),R=a(54014),z=a(20105),J=a(73298),Y=a(85411),K=a(78465),G=a.n(K),Z=a(94335),ee=a(54306),te=a(57957),ae=a(77028),se={data(){return{config:{mode:"range",wrap:!0,altFormat:"M j, Y",altInput:!0,dateFormat:"d M, Y"},date:null,page:1,status:null,status1:null,invoiceListModal:!1,perPage:9,pages:[],value:null,searchQuery:null,invoiceWidgets:[{id:1,label:"Invoices Sent",percentage:"+89.24 %",percentageClass:"success",icon:"ri-arrow-right-up-line",counter:"559.25",badge:"2,258",caption:"Invoices sent",feaIcon:"file-text",decimals:1,prefix:"$",suffix:"k"},{id:2,label:"Paid Invoices",percentage:"+8.09 %",percentageClass:"danger",icon:"ri-arrow-right-down-line",counter:"409.66",badge:"1,958",caption:"Paid by clients",feaIcon:"check-square",decimals:2,prefix:"$",suffix:"k"},{id:3,label:"Unpaid Invoices",percentage:"+9.01 %",percentageClass:"danger",icon:"ri-arrow-right-down-line",counter:"136.98",badge:"338",caption:"Unpaid by clients",feaIcon:"clock",decimals:2,prefix:"$",suffix:"k"},{id:4,label:"Cancelled Invoices",percentage:"+7.55 %",percentageClass:"success",icon:"ri-arrow-right-up-line",counter:"84.2",badge:"502",caption:"Cancelled by clients",feaIcon:"x-octagon",decimals:1,prefix:"$",suffix:"k"}],invoiceList:[],defaultOptions:{animationData:ee},defaultOptions1:{animationData:te},deleteModal:!1,event:{_id:""}}},components:{Layout:J.A,PageHeader:Y.A,Multiselect:R.A,lottie:ae.A,flatPickr:z.A,FileTextIcon:H.dsF,CheckSquareIcon:H.hIB,ClockIcon:H.O4,XOctagonIcon:H.hbb},computed:{displayedPosts(){return this.paginate(this.invoiceList)},resultQuery(){if(this.searchQuery){const e=this.searchQuery.toLowerCase();return this.displayedPosts.filter(t=>t.invoiceId.toLowerCase().includes(e)||t.name.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.country.toLowerCase().includes(e)||t.date.toLowerCase().includes(e)||t.time.toLowerCase().includes(e)||t.amount.toString().toLowerCase().includes(e)||t.status.toLowerCase().includes(e))}return null!==this.status?this.displayedPosts.filter(e=>e.status===this.status||"all"==this.status?e:null):this.displayedPosts}},watch:{invoiceList(){this.setPages()}},created(){this.setPages()},filters:{trimWords(e){return e.split(" ").splice(0,20).join(" ")+"..."}},methods:{SearchData(){this.status=this.status1},deleteMultiple(){let e=[];var t=document.getElementsByName("chk_child");if(t.forEach(function(t){if(1==t.checked){var a=t.parentNode.parentNode.parentNode,s=a.querySelector(".id a").innerHTML;e.push(s)}}),"undefined"!==typeof e&&e.length>0){if(!confirm("Are you sure you want to delete this?"))return!1;var a=this.invoiceList;e.forEach(function(e){a=a.filter(function(t){return t.invoiceId!=e})}),this.invoiceList=a,document.getElementById("checkAll").checked=!1;var s=document.getElementsByName("chk_child");s.forEach(function(e){1==e.checked&&(e.checked=!1,e.closest("tr").classList.remove("table-active"))})}else G().fire({title:"Please select at least one checkbox",confirmButtonClass:"btn btn-info",buttonsStyling:!1,showCloseButton:!0})},setPages(){let e=Math.ceil(this.invoiceList.length/this.perPage);this.pages=[];for(let t=1;t<=e;t++)this.pages.push(t)},paginate(e){let t=this.page,a=this.perPage,s=t*a-a,l=t*a;return e.slice(s,l)},deleteModalToggle(e){this.deleteModal=!0,this.event._id=e._id},deleteData(){this.event._id&&(Z.A.delete(`https://api-node.themesbrand.website/apps/invoice/${this.event._id}`).then(e=>{"success"===e.data.status&&(this.invoiceList=this.invoiceList.filter(e=>e._id!=this.event._id))}).catch(e=>{console.log(e)}),this.deleteModal=!1)},onSort(e){this.direction="asc"===this.direction?"desc":"asc";const t=[...this.invoiceList];t.sort((t,a)=>{const s=t[e]<a[e]?-1:t[e]>a[e]?1:0;return"asc"===this.direction?s:-s}),this.invoiceList=t}},beforeMount(){Z.A.get("https://api-node.themesbrand.website/apps/invoice").then(e=>{this.invoiceList=[];const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.data.data.forEach(e=>{var a=new Date(e.date),s=a.getHours(),l=a.getMinutes(),i=s>=12?"PM":"AM";s%=12,s=s||12,s=s<10?"0"+s:s,l=l<10?"0"+l:l;var n=s+":"+l+" "+i,o=a.getDate()<10?"0"+a.getDate():a.getDate();e.date=o+" "+t[a.getMonth()]+", "+a.getFullYear(),e.time=n,e.image_src="https://api-node.themesbrand.website/images/users/"+e.img,this.invoiceList.push(e)})}).catch(e=>{console.log(e)})},mounted(){var e=document.getElementById("checkAll");e&&(e.onclick=function(){var t=document.querySelectorAll('.form-check-all input[type="checkbox"]');1==e.checked?t.forEach(function(e){e.checked=!0,e.closest("tr").classList.add("table-active"),document.getElementById("remove-actions").style.display="block"}):t.forEach(function(e){e.checked=!1,e.closest("tr").classList.remove("table-active"),document.getElementById("remove-actions").style.display="none"})});var t=document.querySelectorAll("#invoiceList .form-check-input");Array.from(t).forEach(function(e){e.addEventListener("change",function(e){var t=document.querySelectorAll("#invoiceList .form-check-input:checked").length;e.target.closest("tr").classList.contains("table-active"),document.getElementById("remove-actions").style.display=t>0?"block":"none"})})}},le=a(66262);const ie=(0,le.A)(se,[["render",j]]);var ne=ie}}]);
//# sourceMappingURL=7231.8a863c68.js.map