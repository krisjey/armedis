"use strict";(self["webpackChunkvelzon"]=self["webpackChunkvelzon"]||[]).push([[7739],{36564:function(e,t,a){a.r(t),a.d(t,{default:function(){return K}});var l=a(20641),s=a(53751),o=a(90033);const i={class:"d-flex flex-wrap align-items-start gap-2"},d={class:"search-box"},n={class:""},c={class:"table-responsive table-card mb-1"},r={class:"table align-middle",id:"customerTable"},u={class:"table-light text-muted"},m={class:"list form-check-all"},h={class:"id",style:{display:"none"}},k={class:"customer_name"},p={class:"email"},b={class:"phone"},f={class:"date"},v={class:"status"},g={class:"list-inline hstack gap-2 mb-0"},L={class:"list-inline-item edit","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"Edit"},y={class:"list-inline-item","data-bs-toggle":"tooltip","data-bs-trigger":"hover","data-bs-placement":"top",title:"Remove"},_={key:0,class:"noresult"},C={class:"text-center"},F={key:0,class:"d-flex justify-content-end"},M={class:"pagination-wrap hstack gap-2"},E={class:"pagination listjs-pagination mb-0"},A=["onClick"],w={class:"mb-3"},x={class:"mb-3"},S={class:"mb-3"},B={class:"mb-3"},P={class:"mb-3"},D={class:"hstack gap-2 justify-content-end"},V={class:"mt-2 text-center"},I={class:"d-flex gap-2 justify-content-center mt-4 mb-2"};function W(e,t,a,W,Q,U){const N=(0,l.g2)("PageHeader"),J=(0,l.g2)("BCol"),j=(0,l.g2)("BButton"),T=(0,l.g2)("BRow"),X=(0,l.g2)("BCardHeader"),q=(0,l.g2)("flat-pickr"),O=(0,l.g2)("Multiselect"),Y=(0,l.g2)("b-form"),z=(0,l.g2)("BCardBody"),H=(0,l.g2)("BLink"),R=(0,l.g2)("lottie"),K=(0,l.g2)("BCard"),$=(0,l.g2)("BModal"),Z=(0,l.g2)("Layout");return(0,l.uX)(),(0,l.Wv)(Z,null,{default:(0,l.k6)(()=>[(0,l.bF)(N,{title:"Customers",pageTitle:"Ecommerce"}),(0,l.bF)(T,null,{default:(0,l.k6)(()=>[(0,l.bF)(J,{lg:"12"},{default:(0,l.k6)(()=>[(0,l.bF)(K,{"no-body":"",id:"customerList"},{default:(0,l.k6)(()=>[(0,l.bF)(X,{class:"border-bottom-dashed"},{default:(0,l.k6)(()=>[(0,l.bF)(T,{class:"g-4 align-items-center"},{default:(0,l.k6)(()=>[(0,l.bF)(J,{sm:""},{default:(0,l.k6)(()=>t[20]||(t[20]=[(0,l.Lk)("div",null,[(0,l.Lk)("h5",{class:"card-title mb-0"},"Customer List")],-1)])),_:1,__:[20]}),(0,l.bF)(J,{sm:"auto"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",i,[(0,l.bF)(j,{variant:"soft-danger",class:"me-1",id:"remove-actions",onClick:U.deleteMultiple},{default:(0,l.k6)(()=>t[21]||(t[21]=[(0,l.Lk)("i",{class:"ri-delete-bin-2-line"},null,-1)])),_:1,__:[21]},8,["onClick"]),(0,l.bF)(j,{type:"button",variant:"secondary",class:"add-btn me-1",id:"create-btn",onClick:U.toggleModal},{default:(0,l.k6)(()=>t[22]||(t[22]=[(0,l.Lk)("i",{class:"ri-add-line align-bottom me-1"},null,-1),(0,l.eW)(" Add Customer ")])),_:1,__:[22]},8,["onClick"]),(0,l.bF)(j,{type:"button",variant:"success"},{default:(0,l.k6)(()=>t[23]||(t[23]=[(0,l.Lk)("i",{class:"ri-file-download-line align-bottom me-1"},null,-1),(0,l.eW)(" Import ")])),_:1,__:[23]})])]),_:1})]),_:1})]),_:1}),(0,l.bF)(z,{class:"border-bottom-dashed border-bottom"},{default:(0,l.k6)(()=>[(0,l.bF)(Y,null,{default:(0,l.k6)(()=>[(0,l.bF)(T,{class:"g-3"},{default:(0,l.k6)(()=>[(0,l.bF)(J,{xl:"6"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",d,[(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control search",placeholder:"Search for customer, email, phone, status or something...","onUpdate:modelValue":t[0]||(t[0]=e=>Q.searchQuery=e)},null,512),[[s.Jo,Q.searchQuery]]),t[24]||(t[24]=(0,l.Lk)("i",{class:"ri-search-line search-icon"},null,-1))])]),_:1}),(0,l.bF)(J,{xl:"6"},{default:(0,l.k6)(()=>[(0,l.bF)(T,{class:"g-3"},{default:(0,l.k6)(()=>[(0,l.bF)(J,{sm:"4"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",n,[(0,l.bF)(q,{modelValue:Q.date,"onUpdate:modelValue":t[1]||(t[1]=e=>Q.date=e),placeholder:"Select date",config:Q.rangeDateconfig,class:"form-control"},null,8,["modelValue","config"])])]),_:1}),(0,l.bF)(J,{sm:"4"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",null,[(0,l.bF)(O,{class:"form-control",modelValue:Q.value1,"onUpdate:modelValue":t[2]||(t[2]=e=>Q.value1=e),"close-on-select":!0,searchable:!0,"create-option":!0,options:[{value:"",label:"Status",disabled:!0},{value:"All",label:"All"},{value:"Active",label:"Active"},{value:"Block",label:"Block"}]},null,8,["modelValue"])])]),_:1}),(0,l.bF)(J,{sm:"4"},{default:(0,l.k6)(()=>[(0,l.Lk)("div",null,[(0,l.bF)(j,{type:"button",variant:"info",class:"w-100",onClick:U.SearchData},{default:(0,l.k6)(()=>t[25]||(t[25]=[(0,l.Lk)("i",{class:"ri-equalizer-fill me-2 align-bottom"},null,-1),(0,l.eW)("Filters ")])),_:1,__:[25]},8,["onClick"])])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),(0,l.bF)(z,null,{default:(0,l.k6)(()=>[(0,l.Lk)("div",null,[(0,l.Lk)("div",c,[(0,l.Lk)("table",r,[(0,l.Lk)("thead",u,[(0,l.Lk)("tr",null,[t[26]||(t[26]=(0,l.Lk)("th",{scope:"col",style:{width:"50px"}},[(0,l.Lk)("div",{class:"form-check"},[(0,l.Lk)("input",{class:"form-check-input",type:"checkbox",id:"checkAll",value:"option"})])],-1)),(0,l.Lk)("th",{class:"sort","data-sort":"customer_name",onClick:t[3]||(t[3]=e=>U.onSort("customer"))},"Customer"),(0,l.Lk)("th",{class:"sort","data-sort":"email",onClick:t[4]||(t[4]=e=>U.onSort("email"))},"Email"),(0,l.Lk)("th",{class:"sort","data-sort":"phone",onClick:t[5]||(t[5]=e=>U.onSort("phone"))},"Phone"),(0,l.Lk)("th",{class:"sort","data-sort":"date",onClick:t[6]||(t[6]=e=>U.onSort("date"))},"Joining Date"),(0,l.Lk)("th",{class:"sort","data-sort":"status",onClick:t[7]||(t[7]=e=>U.onSort("status"))},"Status"),t[27]||(t[27]=(0,l.Lk)("th",{class:"sort","data-sort":"action"},"Action",-1))])]),(0,l.Lk)("tbody",m,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(U.resultQuery,(e,a)=>((0,l.uX)(),(0,l.CE)("tr",{key:a},[t[30]||(t[30]=(0,l.Lk)("th",{scope:"row"},[(0,l.Lk)("div",{class:"form-check"},[(0,l.Lk)("input",{class:"form-check-input",type:"checkbox",name:"chk_child",value:"option1"})])],-1)),(0,l.Lk)("td",h,[(0,l.bF)(H,{href:"javascript:void(0);",class:"fw-medium link-primary"},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(e.customerId),1)]),_:2},1024)]),(0,l.Lk)("td",k,(0,o.v_)(e.customer),1),(0,l.Lk)("td",p,(0,o.v_)(e.email),1),(0,l.Lk)("td",b,(0,o.v_)(e.phone),1),(0,l.Lk)("td",f,(0,o.v_)(e.date),1),(0,l.Lk)("td",v,[(0,l.Lk)("span",{class:(0,o.C4)(["badge text-uppercase",{"bg-success-subtle text-success":"Active"==e.status,"bg-danger-subtle text-danger":"Block"==e.status}])},(0,o.v_)(e.status),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("ul",g,[(0,l.Lk)("li",L,[(0,l.bF)(H,{variant:"text-primary",class:"d-inline-block edit-item-btn",onClick:t=>U.editDetails(e)},{default:(0,l.k6)(()=>t[28]||(t[28]=[(0,l.Lk)("i",{class:"ri-pencil-fill fs-16"},null,-1)])),_:2,__:[28]},1032,["onClick"])]),(0,l.Lk)("li",y,[(0,l.bF)(H,{class:"text-danger d-inline-block remove-item-btn",onClick:t=>U.deleteModalToggle(e)},{default:(0,l.k6)(()=>t[29]||(t[29]=[(0,l.Lk)("i",{class:"ri-delete-bin-5-fill fs-16"},null,-1)])),_:2,__:[29]},1032,["onClick"])])])])]))),128))])]),U.resultQuery.length<1?((0,l.uX)(),(0,l.CE)("div",_,[(0,l.Lk)("div",C,[(0,l.bF)(R,{class:"avatar-xl",colors:"primary:#121331,secondary:#08a88a",options:Q.defaultOptions,height:75,width:75},null,8,["options"]),t[31]||(t[31]=(0,l.Lk)("h5",{class:"mt-2"},"Sorry! No Result Found",-1)),t[32]||(t[32]=(0,l.Lk)("p",{class:"text-muted mb-0"}," We've searched more than 150+ customer We did not find any customer for you search. ",-1))])])):(0,l.Q3)("",!0)]),U.resultQuery.length>=1?((0,l.uX)(),(0,l.CE)("div",F,[(0,l.Lk)("div",M,[(0,l.bF)(H,{class:"page-item pagination-prev",href:"#",disabled:Q.page<=1,onClick:t[8]||(t[8]=e=>Q.page--)},{default:(0,l.k6)(()=>t[33]||(t[33]=[(0,l.eW)(" Previous ")])),_:1,__:[33]},8,["disabled"]),(0,l.Lk)("ul",E,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(Q.pages,(e,t)=>((0,l.uX)(),(0,l.CE)("li",{class:(0,o.C4)({active:e==Q.page,disabled:"..."==e}),key:t,onClick:t=>Q.page=e},[(0,l.bF)(H,{class:"page",href:"#"},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(e),1)]),_:2},1024)],10,A))),128))]),(0,l.bF)(H,{class:"page-item pagination-next",href:"#",onClick:t[9]||(t[9]=e=>Q.page++),disabled:Q.page>=Q.pages.length},{default:(0,l.k6)(()=>t[34]||(t[34]=[(0,l.eW)(" Next ")])),_:1,__:[34]},8,["disabled"])])])):(0,l.Q3)("",!0)])]),_:1})]),_:1})]),_:1})]),_:1}),(0,l.bF)($,{modelValue:Q.addCustomerModal,"onUpdate:modelValue":t[16]||(t[16]=e=>Q.addCustomerModal=e),id:"showModal","hide-footer":"",title:Q.dataEdit?"Edit Customer":"Add Customer","header-class":"p-3 bg-light",class:"v-modal-custom",centered:""},{default:(0,l.k6)(()=>[(0,l.bF)(Y,{action:"#",id:"addform",class:"tablelist-form",autocomplete:"off"},{default:(0,l.k6)(()=>[t[47]||(t[47]=(0,l.Lk)("input",{type:"hidden",id:"id-field"},null,-1)),t[48]||(t[48]=(0,l.Lk)("div",{class:"mb-3",id:"modal-id",style:{display:"none"}},[(0,l.Lk)("label",{for:"id-field1",class:"form-label"},"ID"),(0,l.Lk)("input",{type:"text",id:"idfield1",class:"form-control",placeholder:"ID",readonly:""})],-1)),(0,l.Lk)("div",w,[t[35]||(t[35]=(0,l.Lk)("label",{for:"customername-field",class:"form-label"},"Customer Name",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"customername",class:(0,o.C4)(["form-control",{"is-invalid":Q.submitted&&!Q.event.customer}]),placeholder:"Enter Name","onUpdate:modelValue":t[10]||(t[10]=e=>Q.event.customer=e)},null,2),[[s.Jo,Q.event.customer]]),t[36]||(t[36]=(0,l.Lk)("div",{class:"invalid-feedback"},"Please enter a customer name.",-1))]),(0,l.Lk)("div",x,[t[37]||(t[37]=(0,l.Lk)("label",{for:"email-field",class:"form-label"},"Email",-1)),(0,l.bo)((0,l.Lk)("input",{type:"email",id:"email",class:(0,o.C4)(["form-control",{"is-invalid":Q.submitted&&!Q.event.email}]),placeholder:"Enter Email","onUpdate:modelValue":t[11]||(t[11]=e=>Q.event.email=e)},null,2),[[s.Jo,Q.event.email]]),t[38]||(t[38]=(0,l.Lk)("div",{class:"invalid-feedback"},"Please enter an email.",-1))]),(0,l.Lk)("div",S,[t[39]||(t[39]=(0,l.Lk)("label",{for:"phone-field",class:"form-label"},"Phone",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",id:"phone",class:(0,o.C4)(["form-control",{"is-invalid":Q.submitted&&!Q.event.phone}]),placeholder:"Enter Phone no.","onUpdate:modelValue":t[12]||(t[12]=e=>Q.event.phone=e)},null,2),[[s.Jo,Q.event.phone]]),t[40]||(t[40]=(0,l.Lk)("div",{class:"invalid-feedback"},"Please enter a phone.",-1))]),(0,l.Lk)("div",B,[t[41]||(t[41]=(0,l.Lk)("label",{for:"date-field",class:"form-label"},"Joining Date",-1)),(0,l.bF)(q,{config:Q.config,class:(0,o.C4)(["form-control",{"is-invalid":Q.submitted&&!Q.event.date}]),id:"joindate",modelValue:Q.event.date,"onUpdate:modelValue":t[13]||(t[13]=e=>Q.event.date=e)},null,8,["config","modelValue","class"]),t[42]||(t[42]=(0,l.Lk)("div",{class:"invalid-feedback"},"Please select a date.",-1))]),(0,l.Lk)("div",P,[t[44]||(t[44]=(0,l.Lk)("label",{for:"status-field",class:"form-label"},"Status",-1)),(0,l.bo)((0,l.Lk)("select",{class:(0,o.C4)(["form-control",{"is-invalid":Q.submitted&&!Q.event.status}]),"data-trigger":"",id:"statusfield","onUpdate:modelValue":t[14]||(t[14]=e=>Q.event.status=e)},t[43]||(t[43]=[(0,l.Lk)("option",{value:""},"Status",-1),(0,l.Lk)("option",{value:"Active"},"Active",-1),(0,l.Lk)("option",{value:"Block"},"Block",-1)]),2),[[s.u1,Q.event.status]]),t[45]||(t[45]=(0,l.Lk)("div",{class:"invalid-feedback"},"Please select a status.",-1))]),(0,l.Lk)("div",D,[(0,l.bF)(j,{type:"button",id:"closemodal",variant:"light",onClick:t[15]||(t[15]=e=>Q.addCustomerModal=!1)},{default:(0,l.k6)(()=>t[46]||(t[46]=[(0,l.eW)(" Close ")])),_:1,__:[46]}),(0,l.bF)(j,{type:"button",variant:"success",onClick:U.handleSubmit},{default:(0,l.k6)(()=>[(0,l.eW)((0,o.v_)(Q.dataEdit?"Update":"Add Customer"),1)]),_:1},8,["onClick"])])]),_:1,__:[47,48]})]),_:1},8,["modelValue","title"]),(0,l.bF)($,{modelValue:Q.deleteModal,"onUpdate:modelValue":t[19]||(t[19]=e=>Q.deleteModal=e),"modal-class":"zoomIn","hide-footer":"","no-close-on-backdrop":"",centered:""},{default:(0,l.k6)(()=>[(0,l.Lk)("div",V,[(0,l.bF)(R,{class:"avatar-xl",colors:"primary:#f7b84b,secondary:#f06548",options:Q.defaultOptions2,height:100,width:100},null,8,["options"]),t[49]||(t[49]=(0,l.Lk)("div",{class:"mt-4 pt-2 fs-15 mx-4 mx-sm-5"},[(0,l.Lk)("h4",null,"Are you sure ?"),(0,l.Lk)("p",{class:"text-muted mx-4 mb-0"},"Are you sure you want to remove this record ?")],-1))]),(0,l.Lk)("div",I,[(0,l.Lk)("button",{type:"button",class:"btn w-sm btn-light",onClick:t[17]||(t[17]=e=>Q.deleteModal=!1)},"Close"),(0,l.Lk)("button",{type:"button",class:"btn w-sm btn-danger",id:"delete-record",onClick:t[18]||(t[18]=(...e)=>U.deleteData&&U.deleteData(...e))},"Yes, Delete It!")])]),_:1},8,["modelValue"])]),_:1})}a(44114),a(18111),a(22489),a(7588),a(61701);var Q=a(54014),U=a(20105),N=a(64925),J=a(85411),j=a(78465),T=a.n(j),X=a(94335),q=a(77028),O=a(54306),Y=a(57957),z={data(){return{date1:null,date:null,addCustomerModal:!1,editCustomerModal:!1,rangeDateconfig:{wrap:!0,altFormat:"M j, Y",altInput:!0,dateFormat:"d M, Y",mode:"range"},config:{enableTime:!1,dateFormat:"d M, Y"},searchQuery:null,defaultOptions:{animationData:O},defaultOptions2:{animationData:Y},page:1,perPage:8,value:"All",value1:null,pages:[],customerList:[],submitted:!1,dataEdit:!1,deleteModal:!1,event:{_id:"",customer:"",customerId:"",date:"",email:"",phone:"",status:""}}},computed:{displayedPosts(){return this.paginate(this.customerList)},resultQuery(){if(this.searchQuery){const e=this.searchQuery.toLowerCase();return this.displayedPosts.filter(t=>t.customer.toLowerCase().includes(e)||t.email.toLowerCase().includes(e)||t.phone.includes(e)||t.date.toLowerCase().includes(e)||t.status.toLowerCase().includes(e))}if(null!==this.date){if(null!==this.date)var e=this.date.split(" to ")[0],t=this.date.split(" to ")[1];return this.displayedPosts.filter(a=>new Date(a.date.slice(0,12))>=new Date(e)&&new Date(a.date.slice(0,12))<=new Date(t)?a:null)}return null!==this.value?this.displayedPosts.filter(e=>e.status===this.value||"All"==this.value?e:null):this.displayedPosts}},created(){this.setPages()},watch:{customerList(){this.setPages()}},filters:{trimWords(e){return e.split(" ").splice(0,20).join(" ")+"..."}},beforeMount(){X.A.get("https://api-node.themesbrand.website/apps/customer").then(e=>{this.customerList=[],e.data.data.forEach(e=>{const t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var a=new Date(e.date);e.date=a.getDate()+" "+t[a.getMonth()]+", "+a.getFullYear(),this.customerList.push(e)})}).catch(e=>{console.log(e)})},methods:{handleSubmit(){if(this.dataEdit)this.submitted=!0,this.submitted&&this.event.customer&&this.event.email&&this.event.phone&&this.event.date&&this.event.status&&(this.addCustomerModal=!1,X.A.patch(`https://api-node.themesbrand.website/apps/customer/${this.event._id}`,this.event).then(e=>{const t=e.data.data;this.customerList=this.customerList.map(e=>e._id.toString()==t._id.toString()?{...e,...t}:e)}).catch(e=>{console.log(e)}));else if(this.submitted=!0,this.submitted&&this.event.customer&&this.event.email&&this.event.phone&&this.event.date&&this.event.status){const e={_id:Math.floor(100*Math.random()+20)-20,customerId:"#VZ2"+(Math.floor(100*Math.random()+20)-20),...this.event};this.addCustomerModal=!1,X.A.post("https://api-node.themesbrand.website/apps/customer",e).then(e=>{this.customerList.unshift(e.data.data)}).catch(e=>{console.log(e)})}},onSort(e){this.direction="asc"===this.direction?"desc":"asc";const t=[...this.customerList];t.sort((t,a)=>{const l=t[e]<a[e]?-1:t[e]>a[e]?1:0;return"asc"===this.direction?l:-l}),this.customerList=t},editDetails(e){this.dataEdit=!0,this.addCustomerModal=!0,this.event={...e},this.submitted=!1},toggleModal(){this.addCustomerModal=!0,this.dataEdit=!1,this.event={},this.submitted=!1},deleteModalToggle(e){this.deleteModal=!0,this.event._id=e._id},deleteData(){this.event._id&&(X.A.delete(`https://api-node.themesbrand.website/apps/customer/${this.event._id}`).then(e=>{"success"===e.data.status&&(this.customerList=this.customerList.filter(e=>e._id!=this.event._id))}).catch(e=>{console.log(e)}),this.deleteModal=!1)},setPages(){let e=Math.ceil(this.customerList.length/this.perPage);this.pages=[];for(let t=1;t<=e;t++)this.pages.push(t)},paginate(e){let t=this.page,a=this.perPage,l=t*a-a,s=t*a;return e.slice(l,s)},deleteMultiple(){let e=[];var t=document.getElementsByName("chk_child");if(t.forEach(function(t){if(1==t.checked){var a=t.parentNode.parentNode.parentNode,l=a.querySelector(".id a").innerHTML;e.push(l)}}),"undefined"!==typeof e&&e.length>0){if(!confirm("Are you sure you want to delete this?"))return!1;var a=this.customerList;e.forEach(function(e){a=a.filter(function(t){return t.customerId!=e})}),this.customerList=a,document.getElementById("checkAll").checked=!1;var l=document.getElementsByName("chk_child");l.forEach(function(e){1==e.checked&&(e.checked=!1,e.closest("tr").classList.remove("table-active"))})}else T().fire({title:"Please select at least one checkbox",confirmButtonClass:"btn btn-info",buttonsStyling:!1,showCloseButton:!0})},SearchData(){this.value=this.value1}},mounted(){var e=document.getElementById("checkAll");e&&(e.onclick=function(){var t=document.querySelectorAll('.form-check-all input[type="checkbox"]');1==e.checked?t.forEach(function(e){e.checked=!0,e.closest("tr").classList.add("table-active"),document.getElementById("remove-actions").style.display="block"}):t.forEach(function(e){e.checked=!1,e.closest("tr").classList.remove("table-active"),document.getElementById("remove-actions").style.display="none"})});var t=document.querySelectorAll("#customerTable .form-check-input");Array.from(t).forEach(function(e){e.addEventListener("change",function(e){var t=document.querySelectorAll("#customerTable .form-check-input:checked").length;e.target.closest("tr").classList.contains("table-active"),document.getElementById("remove-actions").style.display=t>0?"block":"none"})})},components:{Layout:N.A,PageHeader:J.A,lottie:q.A,Multiselect:Q.A,flatPickr:U.A}},H=a(66262);const R=(0,H.A)(z,[["render",W]]);var K=R}}]);